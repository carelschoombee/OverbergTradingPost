@using FreeMarket.Models
@model Product

<script type="text/javascript">

    function readURLPrimary(input) {

        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                $('#imagePrimaryPreview').attr('src', e.target.result);
            }

            reader.readAsDataURL(input.files[0]);
        }
    }

    function readURLSecondary(input) {

        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                $('#imageSecondaryPreview').attr('src', e.target.result);
            }

            reader.readAsDataURL(input.files[0]);
        }
    }

    $(document).ready(function () {
        $('#productForm')
                .bootstrapValidator({
                    feedbackIcons: {
                        valid: 'glyphicon glyphicon-ok',
                        invalid: 'glyphicon glyphicon-remove',
                        validating: 'glyphicon glyphicon-refresh'
                    },
                    fields: {
                        'Description': {
                            validators: {
                                notEmpty: {
                                    message: 'The field is required.'
                                }
                            }
                        },
                        'LongDescription': {
                            validators: {
                                notEmpty: {
                                    message: 'The field is required.'
                                }
                            }
                        },
                        'PricePerUnit': {
                            validators: {
                                notEmpty: {
                                    message: 'The field is required.'
                                },
                                regexp: {
                                    regexp: /^[\d,\s]+$/,
                                    message: 'Only numbers, spaces and commas.'
                                },
                                greaterThan: {
                                    message: 'Must be a positive number greater than zero.',
                                    value: 0,
                                    inclusive: false
                                }
                            }
                        },
                        'SpecialPricePerUnit': {
                            validators: {
                                regexp: {
                                    regexp: /^[\d,\s]+$/,
                                    message: 'Only numbers, spaces and commas.'
                                },
                                greaterThan: {
                                    message: 'Must be a positive number greater than zero.',
                                    value: 0,
                                    inclusive: false
                                }
                            }
                        },
                        'RetailPricePerUnit': {
                            validators: {
                                regexp: {
                                    regexp: /^[\d,\s]+$/,
                                    message: 'Only numbers, spaces and commas.'
                                },
                                greaterThan: {
                                    message: 'Must be a positive number greater than zero.',
                                    value: 0,
                                    inclusive: false
                                }
                            }
                        },
                        'Weight': {
                            validators: {
                                notEmpty: {
                                    message: 'The field is required.'
                                },
                                numeric: {
                                    message: 'The field must be a number.',
                                    separator: ','
                                },
                                greaterThan: {
                                    message: 'Must be a positive number greater than zero.',
                                    value: -1,
                                    inclusive: false
                                }
                            }
                        },
                        @if (Model.Suppliers != null)
                        {
                         <text>
                        'imagePrimary': {
                            validators: {
                                notEmpty: {
                                    message: 'The field is required.'
                                }
                            }
                        },
                        'imageSecondary': {
                            validators: {
                                notEmpty: {
                                    message: 'The field is required.'
                                }
                            }
                        },
                        </text>
                        }
                        'SelectedDepartment': {
                            validators: {
                                notEmpty: {
                                    message: 'The field is required.'
                                }
                            }
                        },
                        'SelectedSupplier': {
                            validators: {
                                notEmpty: {
                                    message: 'The field is required.'
                                }
                            }
                        },
                        'SelectedCustodianNumber': {
                            validators: {
                                notEmpty: {
                                    message: 'The field is required.'
                                }
                            }
                        },
                        'Size': {
                            validators: {
                                notEmpty: {
                                    message: 'The field is required.'
                                }
                            }
                        }

                    }
                })
    });

</script>